# Правила оценивания проекта

## Общие положения

1. Студент сдаёт курс, выполнив один из трёх предложенных проектов или собственную тему,
   согласованную с организаторами.
2. Проект должен представлять собой работающее решение, покрывающее все основные этапы работы с
   данными: от источника до аналитической витрины и выводов по аналитике.
3. **Базовая оценка** за работающий проект — **50 баллов**. Дополнительные баллы начисляются за
   качество кода, использование продвинутых возможностей инструментов, визуализацию и другие
   улучшения.
4. **Максимальное количество баллов** за идеальный проект — **120**.
5. Сдача промежуточных этапов в срок добавляет до **10 баллов** к финальной оценке.

---

## Формула расчёта финального балла

- **N** — баллы за практику (максимум 120)
- **M** — баллы за теорию (максимум 40)

**Финальный балл за курс** = min(M + N, 120) / 120 × 100

---

## Критерии оценивания и Definition of Done

### 1. Базовый работающий проект (50 баллов) — ОБЯЗАТЕЛЬНО

> ⚠️ **Без выполнения этого пункта остальные баллы не учитываются**

**Требования:**

- В проекте есть Python сервис, который генерирует данные и складывает их в MongoDB. 
- Проект реализует полный цикл работы с данными: от источника до аналитической витрины
- Данные извлекаются из источника (MongoDB) и загружаются в целевое хранилище (PostgreSQL) в **STG**
  -слой
- Данные трансформируются с помощью DBT (созданы модели, тесты, документация) в **ODS** и **DWH / DM
  **
  слои
- Все компоненты проекта настроены и работают корректно

**Что нужно предоставить на проверку:**

- Доступ к Swagger Python сервиса (возможность проверить наличие endpoints)
- Доступ к MongoDB и PostgreSQL (возможность подключения)
- Доступ к Airflow (возможность проверить наличие и работу DAG'ов в UI)
- Ссылка на дашборд
  Elementary ([edr report](https://docs.elementary-data.com/oss/guides/generate-report-ui))
- Ссылка на презентацию с выводами по аналитике и описанием архитектуры проекта

---

### 2. Качество кода (10 баллов)

| Подкритерий                                                                                                           | Баллы |
|-----------------------------------------------------------------------------------------------------------------------|-------|
| Настроены pre-commit хуки с линтером и форматтером для Python, Yaml файлов                                            | 5     |
| Все DBT SQL-модели отформатированы единообразно                                                                       | 1     |
| Наличие 2+ docstring в коде                                                                                           | 1     |
| Два README.md с описанием структуры dbt проекта и верхнеуровневой структурой решения – app, airflow, dwh, dbt_project | 1     |
| Наличие 3+ комментариев, поясняющих сложные моменты                                                                   | 1     |
| Использование оконных функций и CTE в SQL-запросах                                                                    | 1     |

**Дополнительные рекомендации:**

- Следование best practices: осмысленные названия переменных и функций
- Соблюдение стиля кодирования (PEP8 для Python, SQL style guide для DBT)
- Минимизация дублирования кода
- Разделение кода на модули по функциональности

---

### 3. Использование продвинутых возможностей DBT (20 баллов)

| Подкритерий                                                      | Баллы |
|------------------------------------------------------------------|-------|
| Jinja-шаблоны в каждой DBT-модели (блок `config` не учитывается) | 3     |
| Минимум 1 тест на каждую модель                                  | 3     |
| Использование всех 4 типов `dbt-core` тестов                     | 3     |
| Использование всех 6 типов `elementary-data` тестов              | 3     |
| Документация всех моделей в schema.yml                           | 2     |
| Использование 1+ тега для разделения моделей                     | 2     |
| Минимум 2 вида инкрементальной загрузки данных                   | 4     |

**Типы тестов dbt-core:**
https://www.elementary-data.com/dbt-test-hub

- `accepted_values`
- `not_null`
- `relationships`
- `unique`

**Типы тестов elementary-data:**
https://www.elementary-data.com/dbt-test-hub

- `all_columns_anomalies`
- `column_anomalies`
- `dimension_anomalies`
- `event_freshness_anomalies`
- `freshness_anomalies`
- `volume_anomalies`

---

### 4. Настройка CI/CD (10 баллов)

| Подкритерий                                                                            | Баллы |
|----------------------------------------------------------------------------------------|-------|
| Проект хранится в Git-репозитории, настроены merge requests, запрещён push в main      | -     |
| Автоматический запуск тестов и проверок качества кода при изменениях                   | 2     |
| Автоматический деплой проекта на сервер при изменениях в основной ветке (GitLab CI/CD) | 8     |

---

### 5. Визуализация и отчётность (10 баллов)

| Подкритерий                                                                        | Баллы |
|------------------------------------------------------------------------------------|-------|
| Код с выводами на данных из витрины доступен в BI-инструменте или Jupyter ноутбуке | 5     |
| Созданы информативные визуализации (дашборды, графики, таблицы) с инсайтами        | 5     |

**Допустимые инструменты:** SuperSet, Dash, Jupyter, Colab и др. (Jupyter нужно сконвертировать в
html / pdf и положить в репозитории)

---

### 6. Презентация проекта (10 баллов)

**Требования:**

- Подготовлена презентация (PDF, PowerPoint или другой формат)
- Чёткая структура, информативность, визуальные элементы (схемы, скриншоты, графики)
- Проведена устная защита с демонстрацией знания проекта и обоснованием решений
- Тайминг: **7 минут** на выступление, **3 минут** на вопросы

---

### 7. Сдача промежуточного этапа в срок (10 баллов)

Дедлайн – **2025-12-06**

1. Сервис, который пишет данные в MongoDB
2. EL процесс, который переносит данные из MongoDB в PostgreSQ
3. Ссылка на Airflow где можно посмотреть на работу регулярных тасок по генерации нагрузки на python
   сервис и переносу данных в Postgres.


- Студент создаёт pull request в Git-репозиторий
- Предоставляет доступ ментору для проверки
- Проверка может быть выполнена в конце курса — главное зафиксировать факт наличия этапа в
  репозитории
- MR можно вливать, не дожидаясь проверки

## Сводная таблица оценивания

| Критерий                                | Макс. баллы |
|-----------------------------------------|-------------|
| Базовый работающий проект (обязательно) | 50          |
| Качество кода                           | 10          |
| Продвинутые возможности DBT             | 20          |
| Настройка CI/CD                         | 10          |
| Визуализация и отчётность               | 10          |
| Презентация проекта                     | 10          |
| Сдача промежуточного этапа в срок       | 10          |
| **ИТОГО**                               | **120**     |


[Рабочая таблица с баллами](https://docs.google.com/spreadsheets/d/1n39RvLhlCHwirxLPV6lge7URkHKzZG7dc62NFS9t1MU/edit?gid=909308968#gid=909308968)
